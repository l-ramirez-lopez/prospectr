---
title: "README"
output: md_document
date: "2022-09-18"
---

# prospectr

[![CRAN_Status_Badge](http://www.r-pkg.org/badges/version/prospectr)](https://CRAN.R-project.org/package=prospectr)
[![Downloads](https://cranlogs.r-pkg.org/badges/prospectr)](https://cranlogs.r-pkg.org/badges/prospectr)

<img align="right" src="./man/figures/logo.png" width="15%">

<!-- badges: end -->

<em><p align="left"> Misc. Functions for Processing and Sample Selection of Spectroscopic Data </p></em>
_Antoine Stevens & Leo Ramirez-Lopez_

_Last update: `r Sys.Date()`_


Version: `r paste(prospectr:::pkg_info()[1:2], collapse =  " \U002D\U002D ")`

`prospectr` is becoming more and more used in spectroscopic applications, which 
is evidenced by the number of scientific publications citing the package. 
This package is very useful for signal processing and chemometrics in general as 
it provides various utilities for pre--processing and sample selection 
of spectral data. While similar functions are available in other packages, like 
[`signal`](https://CRAN.R-project.org/package=signal), the 
functions in this package works indifferently for `data.frame`, `matrix` and 
`vector` inputs. Besides, several functions are optimized for speed and use 
C++ code through the [`Rcpp`](https://CRAN.R-project.org/package=Rcpp) 
and [`RcppArmadillo`](https://CRAN.R-project.org/package=RcppArmadillo)
packages.

-----------------------------------

## Installing it from GitHub

Install this package from github by:

```
remotes::install_github("l-ramirez-lopez/prospectr")
```
NOTE: in some MAC Os it is still recommended to install `gfortran` and `clang`
from [here](https://cran.r-project.org/bin/macosx/tools/). Even for R >= 4.0. 
For more info, check this [issue](https://github.com/tidyverts/fable/issues/193).  


-----------------------------------
## News

Check the NEWS document for new functionality and general changes in the package.


-----------------------------------
## Vignette

A vignette for `prospectr` explaining its core functionality is available at [https://CRAN.R-project.org/package=prospectr/vignettes/prospectr.html](https://CRAN.R-project.org/package=prospectr/vignettes/prospectr.html).

-----------------------------------

## Core functionality

A vignette gives an overview of the main functions of the package. Just
type `vignette("prospectr-intro")` in the console to access it. Currently, the
following preprocessing functions are available:

- `resample()`              : resample a signal to new coordinates by linear or spline interpolation

- `resample2()`             : resample a signal to new coordinates using FWHM values

- `movav()`                 : moving average

- `standardNormalVariate()` : standard normal variate

- `msc()`                   : multiplicative scatter correction

- `detrend()`               : detrend normalization

- `baseline()`              : baseline removal/correction

- `blockScale()`            : block scaling

- `blockNorm()`             : sum of squares block weighting

- `binning()`               : average in column--wise subsets

- `savitzkyGolay()`         : Savitzky-Golay filter (smoothing and derivatives)                      

- `gapDer()`                : gap-segment derivative

- `continuumRemoval()`      : continuum-removed absorbance or reflectance values

The selection of representative samples/observations for calibration of spectral
models can be achieved with one of the following functions:

- `naes()`      : k-means sampling

- `kenStone()`  : CADEX (Kennard--Stone) algorithm

- `duplex()`    : DUPLEX algorithm

- `shenkWest()` : SELECT algorithm

- `puchwein()`  : Puchwein sampling

- `honigs()`    : Unique-sample selection by spectral subtraction

Other useful functions are also available:


- `read_nircal()`      : read binary files exported from BUCHI NIRCal software

- `readASD()`          : read binary or text files from an ASD instrument (Indico Pro format)         

- `spliceCorrection()` : correct spectra for steps at the splice of detectors in an ASD FieldSpec Pro

- `cochranTest()`      : detects replicate outliers with the Cochran _C_ test


-----------------------------------

## Citing the package
Antoine Stevens and Leornardo Ramirez-Lopez (2025). An introduction to the prospectr package. R package
Vignette R package version 0.2.8.
A BibTeX entry for LaTeX users is:

```
 @Manual{stevens2022prospectr,
    title = {An introduction to the prospectr package},
    author = {Antoine Stevens and Leornardo Ramirez-Lopez},
    publication = {R package Vignette},
    year = {2025},
    note = {R package version 0.2.8},
  }
```

-----------------------------------

## Bug report and development version

You can send an email to the package maintainer (<ramirez.lopez.leo@gmail.com>) 
or create an [issue](https://github.com/l-ramirez-lopez/prospectr/issues) on github.
To install the development version of `prospectr`, simply install [`devtools`](https://CRAN.R-project.org/package=devtools) from
CRAN then run `install_github("l-ramirez-lopez/prospectr")`.

-----------------------------------

# Contributing to `prospectr`

If you want to contribute to `prospectr`, I can already tell you: Thanks for your interest! ðŸŽ‰
We value contributions of all kinds â€” code, documentation, testing, or ideas.

---

## How to contribute

1. **Open an issue first**

   * Every contribution starts with an issue.
   * Describe clearly the bug, feature request, documentation need, or performance improvement.
   * Issues help us discuss, refine, and track contributions.

2. **Create a branch**

   * Each branch in this repository corresponds to a **version of the package**.
   * When you contribute, create a new branch from the current development version.
   * The branch name should follow this format:

     ```
     <type>-<short-scope-or-description>-<issue_id>
     ```

     Where `<type>` is one of:

     * `fix` â€“ a bug fix
     * `feat` â€“ a new feature
     * `docs` â€“ documentation only changes
     * `test` â€“ tests or testing infrastructure
     * `refactor` â€“ code change that neither fixes a bug nor adds a feature
     * `perf` â€“ performance improvements
     * `chore` â€“ maintenance (e.g., CI configs, housekeeping)

   **Examples**:

   * `fix-snv-preprocessing-123`
   * `docs-update-readme-145`
   * `feat-new-outlier-function-152`

   Here, `123`, `145`, etc. correspond to the GitHub issue number.

3. **Make your changes**

   * Ensure code follows **R style guidelines** (base R conventions, â‰¤80 characters per line).
   * Include documentation updates (`roxygen2` style) where applicable.
   * Add or update tests if relevant.

4. **Commit your changes**

   * Use [Conventional Commit](https://www.conventionalcommits.org/) style:

     ```
     <type>(optional-scope): <description>
     ```

     Examples:

     * `fix(preprocessing): handle NA values in SNV`
     * `docs: expand README with new usage example`
     * `feat(pls): add kernel PLS method`

5. **Sync with upstream**

   * Regularly fetch and rebase from the main repository to keep your branch up to date.

     ```bash
     git fetch upstream
     git rebase upstream/main
     ```

6. **Open a Pull Request (PR)**

   * Link the PR to the corresponding issue.
   * Provide a clear description of your changes, why they are needed, and how they were tested.

---

## Other ways to contribute

Not all contributions are code! You can also:

* Improve documentation and vignettes.
* Report reproducible bugs with `sessionInfo()`.
* Suggest enhancements or new features.
* Share use cases in teaching or applied spectroscopy.

---

## Code of Conduct

`prospectr` adheres to the [Contributor Covenant Code of Conduct](https://www.contributor-covenant.org/).
By participating, you are expected to uphold this code.

